/*
    *
    * Wijmo Library 5.20181.462
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
var wijmo;!function(e){!function(t){!function(i){"use strict";var n;!function(e){e[e.Code=0]="Code",e[e.Selection=1]="Selection",e[e.ExpandSingle=2]="ExpandSingle",e[e.ExpandMulti=3]="ExpandMulti"}(n=i.DetailVisibilityMode||(i.DetailVisibilityMode={}));var o=function(){function o(t,o){var l=this;this._mode=n.ExpandSingle,this._animated=!1,this._g=t,t.mergeManager=new i.DetailMergeManager(t),t.rowHeaders.hostElement.addEventListener("click",this._hdrClick.bind(this)),t.formatItem.addHandler(this._formatItem,this),t.selectionChanged.addHandler(this._selectionChanged,this),t.resizedRow.addHandler(this._resizedRow,this),t.loadingRows.addHandler(function(){l.hideDetail()}),t.draggingRow.addHandler(function(e,t){t.row<e.rows.length-1&&e.rows[t.row+1]instanceof i.DetailRow&&(t.cancel=!0,l.hideDetail(t.row))}),t.formatItem.addHandler(function(e,t){t.panel==e.cells&&e.rows[t.row]instanceof i.DetailRow&&(t.cell.style.left="0")}),o&&e.copy(this,o)}return Object.defineProperty(o.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"detailVisibilityMode",{get:function(){return this._mode},set:function(t){(t=e.asEnum(t,n))!=this._mode&&(this._mode=t,this.hideDetail(),this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"maxHeight",{get:function(){return this._maxHeight},set:function(t){this._maxHeight=e.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isAnimated",{get:function(){return this._animated},set:function(t){t!=this._animated&&(this._animated=e.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"createDetailCell",{get:function(){return this._createDetailCellFn},set:function(t){this._createDetailCellFn=e.asFunction(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"disposeDetailCell",{get:function(){return this._disposeDetailCellFn},set:function(t){this._disposeDetailCellFn=e.asFunction(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rowHasDetail",{get:function(){return this._rowHasDetailFn},set:function(t){this._rowHasDetailFn=e.asFunction(t,!0)},enumerable:!0,configurable:!0}),o.prototype.getDetailRow=function(e){var t=this._g.rows;return e=this._toIndex(e),t[e]instanceof i.DetailRow?t[e]:e<t.length-1&&t[e+1]instanceof i.DetailRow?t[e+1]:null},o.prototype.isDetailVisible=function(e){return null!=this.getDetailRow(e)},o.prototype.isDetailAvailable=function(e){this._g.rows;return e=this._toIndex(e),this._hasDetail(e)},o.prototype.hideDetail=function(t){var n=this._g.rows;if(null!=t){!(n[t=this._toIndex(t)]instanceof i.DetailRow)&&t<n.length-1&&n[t+1]instanceof i.DetailRow&&t++;var o=n[t];o instanceof i.DetailRow&&(this.disposeDetailCell&&this.disposeDetailCell(o),e.Control.disposeAll(o.detail),n.removeAt(t))}else for(var l=0;l<n.length;l++)n[l]instanceof i.DetailRow&&this.hideDetail(l)},o.prototype.showDetail=function(t,n){void 0===n&&(n=!1);var o=this._g,l=o.rows;if((t=this._toIndex(t))>0&&l[t]instanceof i.DetailRow&&t--,n){for(var r=o.selection,a=!1,s=0;s<l.length-1;s++)s!=t&&l[s+1]instanceof i.DetailRow&&(this.hideDetail(s),s<t&&t--,s<r.row&&(r.row--,r.row2--,a=!0));a&&o.select(r,!1)}if(!this.isDetailVisible(t)&&this._hasDetail(t)){var c=new i.DetailRow(l[t]);if(c.detail=this._createDetailCell(l[t]),c.detail)if(l.insert(t+1,c),this._animated){var d=c.detail.style;d.transform="translateY(-100%)",d.opacity="0",e.animate(function(i){i<1?(d.transform="translateY("+(100*-(1-i)).toFixed(0)+"%)",d.opacity=(i*i).toString()):(d.transform="",d.opacity="",e.Control.invalidateAll(c.detail),o.scrollIntoView(t+1,-1))})}else o.scrollIntoView(t+1,-1)}},o.prototype._toIndex=function(i){return i instanceof t.Row&&(i=i.index),e.asNumber(i,!1,!0)},o.prototype._hdrClick=function(e){if(!e.defaultPrevented)switch(this._mode){case n.ExpandMulti:case n.ExpandSingle:var i=this._g,o=i.hitTest(e);if(o.row>-1){i.rows[o.row];this.isDetailVisible(o.row)?this.hideDetail(o.row):(i.select(new t.CellRange(o.row,0,o.row,i.columns.length-1)),this.showDetail(o.row,this._mode==n.ExpandSingle)),e.preventDefault()}}},o.prototype._selectionChanged=function(e,t){var i=this;this._mode==n.Selection&&(this._toSel&&clearTimeout(this._toSel),this._toSel=setTimeout(function(){e.selection.row>-1?i.showDetail(e.selection.row,!0):i.hideDetail()},300))},o.prototype._formatItem=function(t,o){var l=this._g,r=o.panel.rows[o.row];if(o.panel==l.cells&&r instanceof i.DetailRow&&null!=r.detail)if(e.addClass(o.cell,"wj-detail"),o.cell.textContent="",o.cell.style.textAlign="",o.cell.appendChild(r.detail),null==r.height){e.Control.refreshAll(o.cell);var a=getComputedStyle(o.cell),s=r.detail.scrollHeight+parseInt(a.paddingTop)+parseInt(a.paddingBottom);this._maxHeight>0&&s>this._maxHeight&&(s=this._maxHeight),r.height=s,r.detail.style.height||(r.detail.style.height="100%");var c=r.detail.querySelector(".wj-flexgrid");c&&!c.style.height&&(c.style.height="100%")}else setTimeout(function(){e.Control.refreshAll(r.detail)});if(o.panel==l.rowHeaders&&0==o.col&&this._hasDetail(o.row)&&(o.cell.style.cursor="",this._mode==n.ExpandMulti||this._mode==n.ExpandSingle)){var d=l.rows[o.row+1]instanceof i.DetailRow?"minus":"plus";o.cell.innerHTML='<span class="wj-glyph-'+d+'"></span>',o.cell.children[0].style.pointerEvents="none",o.cell.style.cursor="pointer"}},o.prototype._resizedRow=function(t,n){var o=n.panel.rows[n.row];o instanceof i.DetailRow&&o.detail&&e.Control.refreshAll(o.detail)},o.prototype._hasVisibleDetail=function(e){return!(e instanceof i.DetailRow||e instanceof t.GroupRow||e instanceof t._NewRowTemplate)},o.prototype._hasDetail=function(t){return!e.isFunction(this._rowHasDetailFn)||this._rowHasDetailFn(this._g.rows[t])},o.prototype._createDetailCell=function(e,t){return this.createDetailCell?this.createDetailCell(e,t):null},o}();i.FlexGridDetailProvider=o}(t.detail||(t.detail={}))}(e.grid||(e.grid={}))}(wijmo||(wijmo={}));var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),wijmo;!function(e){!function(e){!function(t){"use strict";var i=function(i){function n(e){return i.call(this,e)||this}return __extends(n,i),n.prototype.getMergedRange=function(n,o,l,r){switch(void 0===r&&(r=!0),n.cellType){case e.CellType.Cell:if(n.rows[o]instanceof t.DetailRow)return new e.CellRange(o,0,o,n.columns.length-1);break;case e.CellType.RowHeader:if(n.rows[o]instanceof t.DetailRow)return new e.CellRange(o-1,l,o,l);if(o<n.rows.length-1&&n.rows[o+1]instanceof t.DetailRow)return new e.CellRange(o,l,o+1,l)}return i.prototype.getMergedRange.call(this,n,o,l,r)},n}(e.MergeManager);t.DetailMergeManager=i}(e.detail||(e.detail={}))}(e.grid||(e.grid={}))}(wijmo||(wijmo={}));var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),wijmo;!function(e){!function(e){!function(t){"use strict";var i=function(e){function t(t){var i=e.call(this)||this;return i.isReadOnly=!0,i}return __extends(t,e),Object.defineProperty(t.prototype,"detail",{get:function(){return this._detail},set:function(e){this._detail=e},enumerable:!0,configurable:!0}),t}(e.Row);t.DetailRow=i}(e.detail||(e.detail={}))}(e.grid||(e.grid={}))}(wijmo||(wijmo={}));